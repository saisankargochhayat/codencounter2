<!DOCTYPE html>
<html>

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Validation Form</title>

	<link rel="stylesheet" href="assets/demo.css">
	<link rel="stylesheet" href="assets/form-validation.css">
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

</head>


	<header>
		<h1>Smart City</h1>
    </header>


    <div style="margin-top:3%" class="main-content">

        <!-- You only need this form and the form-validation.css -->

        <form class="form-validation" method="post" action="/users/signup">

            <div class="form-title-row">
                <h1>Sign Up</h1>
            </div>

						<div class="form-row form-input-name-row">

                <label>
                    <span>Name</span>
                    <input type="text" name="name">
                </label>

            </div>
            <div class="form-row form-input-email-row">

                <label>
                    <span>Email</span>
                    <input type="email" name="email" placeholder="email@example.com">
                </label>

                <span class="form-valid-data-sign"><i class="fa fa-check"></i></span>

                <span class="form-invalid-data-sign"><i class="fa fa-close"></i></span>
                <span class="form-invalid-data-info"></span>

            </div>

            <div class="form-row form-input-password-row">

                <label>
                    <span>Password</span>
                    <input type="password" name="password">
                </label>

            </div>

            <div class="form-row form-input-aadhar-row">

                <label>
                    <span>Aadhar Number</span>
                    <input type="number" name="aadhar">
                </label>

            </div>
						<div class="form-row form-input-id-row">

								<label>
										<span>Aadhar Upload</span>
										<input type="file" name="id">
								</label>

						</div>
            <div class="form-row">

                <label>
                    <span>City</span>
                    <select name='residence_city'>
                        <option value='bbsr'>Bhubaneswar</option>
                    </select>
                </label>

            </div>
						<input id = 'lat' hidden="true" name="residence_lat" value="">
						<input id = 'lon' hidden="true" name="residence_lon" value="">
            <div class="form-row">
              <iframe id = 'map' style="width:100%;" frameborder="0" style="border:0" allowfullscreen>
              </iframe>
            </div>

            <div class="form-row">

                <button type="submit">Submit</button>

            </div>



        </form>

    </div>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<script>

    $(document).ready(function() {

        // Here is how to show an error message next to a form field

        var errorField = $('.form-input-name-row');

        // Adding the form-invalid-data class will show
        // the error message and the red x for that field

        errorField.addClass('form-invalid-data');
        errorField.find('.form-invalid-data-info').text('Please enter your name');


        // Here is how to mark a field with a green check mark

        var successField = $('.form-input-email-row');

        successField.addClass('form-valid-data');


        function showPosition(position) {
          var iframe = document.getElementById('map');
					// $('#lat').show();
					// $('#lon').show();
					$('#lat').val(position.coords.latitude);
					$('#lon').val(position.coords.longitude);
          iframe.src = 'https://www.google.com/maps/embed/v1/place?key=AIzaSyDyJmY9RDD0jR5BGVXZ4Wkag8mWOznWDtc&q='+position.coords.latitude+','+position.coords.longitude;
        }

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }
				getLocation();
    });

</script>

</body>
</html>
